{"version":3,"sources":["ErrorMessage.js","SuccessMessage.js","TxList.js","App.js","index.js"],"names":["ErrorMessage","message","className","xmlns","fill","viewBox","d","TxList","txs","length","map","item","hash","App","error","setError","useState","success","setSuccess","setTxs","userAccount","setUserAccount","amount","setAmount","type","name","placeholder","onChange","e","target","value","onClick","async","web3Modal","Web3Modal","connection","connect","provider","ethers","providers","Web3Provider","network","getNetwork","console","log","chainId","isNaN","undefined","releaseDate","Date","setMonth","getMonth","signer","getSigner","address","getAddress","mainContract","Contract","MainToken","abi","price","utils","parseUnits","freezeTo","getTime","rootElement","document","getElementById","ReactDOM","render"],"mappings":"uk1LAAe,SAASA,EAAT,GAAoC,IAAd,QAAEC,GAAW,EAChD,OAAKA,EAGH,qBAAKC,UAAU,yBAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBACEC,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRH,UAAU,8BAJZ,SAME,sBACE,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbI,EAAE,qGAGN,gCAAQL,SAlBO,KCDR,SAASD,EAAT,GAAoC,IAAd,QAAEC,GAAW,EAChD,OAAKA,EAGH,qBAAKC,UAAU,2BAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBACEC,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRH,UAAU,8BAJZ,SAME,sBACE,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbI,EAAE,qGAGN,gCAAQL,SAlBO,KCDR,SAASM,EAAT,GAA0B,IAAV,IAAEC,GAAO,EACtC,OAAmB,IAAfA,EAAIC,OAAqB,KAG3B,mCACGD,EAAIE,KAAKC,GACR,qBAAgBT,UAAU,wBAA1B,SACE,qBAAKA,UAAU,SAAf,SACE,gCAAQS,EAAKC,UAFPD,O,6BCGH,SAASE,IACtB,MAAOC,EAAOC,GAAYC,sBACnBC,EAASC,GAAcF,sBACvBR,EAAKW,GAAUH,mBAAS,KACxBI,EAAaC,GAAkBL,sBAC/BM,EAAQC,GAAaP,qBAmD5B,OACE,sBAAMd,UAAU,MAAhB,SACE,sBAAKA,UAAU,8EAAf,UACE,uBAAMA,UAAU,WAAhB,UACE,oBAAIA,UAAU,kDAAd,8BAGA,sBAAKA,UAAU,GAAf,UACE,qBAAKA,UAAU,OAAf,SACE,uBACEsB,KAAK,OACLC,KAAK,OACLvB,UAAU,kEACVwB,YAAY,oBACZC,SAAUC,GAAKP,EAAeO,EAAEC,OAAOC,WAG3C,qBAAK5B,UAAU,OAAf,SACE,uBACEuB,KAAK,QACLD,KAAK,SACLtB,UAAU,kEACVwB,YAAY,gBACZC,SAAUC,GAAKL,EAAUK,EAAEC,OAAOC,iBAK1C,yBAAQ5B,UAAU,MAAlB,UACE,wBACEsB,KAAK,SACLO,QA/EWC,UACnB,MAAMC,EAAY,IAAIC,IAChBC,QAAmBF,EAAUG,UAC7BC,EAAW,IAAIC,IAAOC,UAAUC,aAAaL,GAC7CM,QAAiBJ,EAASK,aAIhC,GAHAC,QAAQC,IAAIH,EAAQI,SAGhBC,MAAMxB,SAA2ByB,IAAhB3B,QAAwC2B,IAAXzB,EAGhD,YADAP,EAAS,wCAQX,GAAuB,IAAnB0B,EAAQI,QAEV,YADA9B,EAAS,4CAIX,IAAIiC,EAAc,IAAIC,KAEtBD,EAAYE,SAASF,EAAYG,WAAY,GAE7C,MAAMC,EAASf,EAASgB,YAClBC,QAAgBF,EAAOG,aAEvBC,EAAe,IAAIlB,IAAOmB,SAAS,6CAA8CC,EAAUC,IAAKP,GAEtGT,QAAQC,IAAIU,GAKZ,MAAMM,EAAQtB,IAAOuB,MAAMC,WAAWxC,EAAQ,SAC9C,UAC2BkC,EAAaO,SAAS3C,EAAawC,EAAOZ,EAAYgB,WAC/EjD,IACAG,EAAW,uBACX,MAAOJ,GACP6B,QAAQC,IAAI9B,GACZC,EAAS,qBAoCHb,UAAU,qEAHZ,qBAOA,cAACF,EAAD,CAAcC,QAASa,IACvB,cAAC,EAAD,CAAgBb,QAASgB,IACzB,cAACV,EAAD,CAAQC,IAAKA,YClGvB,MAAMyD,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAACxD,EAAD,MAEFoD,K","file":"static/js/main.41c92720.chunk.js","sourcesContent":["export default function ErrorMessage({ message }) {\n  if (!message) return null;\n\n  return (\n    <div className=\"alert alert-error mt-5\">\n      <div className=\"flex-1\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          className=\"w-6 h-6 mx-2 stroke-current\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"\n          ></path>\n        </svg>\n        <label>{message}</label>\n      </div>\n    </div>\n  );\n}\n","export default function ErrorMessage({ message }) {\n  if (!message) return null;\n\n  return (\n    <div className=\"alert alert-success mt-5\">\n      <div className=\"flex-1\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          className=\"w-6 h-6 mx-2 stroke-current\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"\n          ></path>\n        </svg>\n        <label>{message}</label>\n      </div>\n    </div>\n  );\n}\n","export default function TxList({ txs }) {\n  if (txs.length === 0) return null;\n\n  return (\n    <>\n      {txs.map((item) => (\n        <div key={item} className=\"alert alert-info mt-5\">\n          <div className=\"flex-1\">\n            <label>{item.hash}</label>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { ethers, Contract, providers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport SuccessMessage from \"./SuccessMessage\";\nimport TxList from \"./TxList\";\nimport MainToken from './MainToken.json'\nimport Web3Modal from 'web3modal'\n\n\nexport default function App() {\n  const [error, setError] = useState();\n  const [success, setSuccess] = useState();\n  const [txs, setTxs] = useState([]);\n  const [userAccount, setUserAccount] = useState()\n  const [amount, setAmount] = useState()\n\n\n  const handleSubmit = async (e) => {\n    const web3Modal = new Web3Modal()\n    const connection = await web3Modal.connect()\n    const provider = new ethers.providers.Web3Provider(connection)   \n    const network =  await provider.getNetwork();\n    console.log(network.chainId);\n\n    \n    if (isNaN(amount) || userAccount === undefined || amount === undefined)\n    {\n      setError(\"please input exact address and price\");\n      return;\n    }\n\n    // console.log(amount);\n    // console.log(userAccount);\n    // return;\n\n    if (network.chainId != 97){\n      setError(\"please change the network to bsc testnet\");\n      return;\n    }\n\n    var releaseDate = new Date();\n\n    releaseDate.setMonth(releaseDate.getMonth()+ 6);\n\n    const signer = provider.getSigner()\n    const address = await signer.getAddress()\n\n    const mainContract = new ethers.Contract('0x446DAFEa1c6bE69aaEA18635A945aC2D7aF7DED6', MainToken.abi, signer)\n\n    console.log(address);\n\n    // const balance  = await mainContract.balanceOf(address);\n\n    // console.log(balance.toString())\n    const price = ethers.utils.parseUnits(amount, 'ether')\n    try {\n      const transation = await mainContract.freezeTo(userAccount, price, releaseDate.getTime());\n      setError();\n      setSuccess(\"Sucessfully sended.\")\n    } catch (error) {\n      console.log(error);\n      setError(\"invalid address\");\n    }\n  };\n\n  return (\n    <form className=\"m-4\" >\n      <div className=\"credit-card w-full lg:w-1/2 sm:w-auto shadow-lg mx-auto rounded-xl bg-white\">\n        <main className=\"mt-4 p-4\">\n          <h1 className=\"text-xl font-semibold text-gray-700 text-center\">\n            Send ETH payment\n          </h1>\n          <div className=\"\">\n            <div className=\"my-3\">\n              <input\n                type=\"text\"\n                name=\"addr\"\n                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                placeholder=\"Recipient Address\"\n                onChange={e => setUserAccount(e.target.value)}\n              />\n            </div>\n            <div className=\"my-3\">\n              <input\n                name=\"ether\"\n                type=\"number\"\n                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                placeholder=\"Amount in ETH\"\n                onChange={e => setAmount(e.target.value)}\n              />\n            </div>\n          </div>\n        </main>\n        <footer className=\"p-4\">\n          <button\n            type=\"button\"\n            onClick={handleSubmit}\n            className=\"btn btn-primary submit-button focus:ring focus:outline-none w-full\"\n          >\n            Pay now\n          </button>\n          <ErrorMessage message={error} />\n          <SuccessMessage message={success} />\n          <TxList txs={txs} />\n        </footer>\n      </div>\n    </form>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}